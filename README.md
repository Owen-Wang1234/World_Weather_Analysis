# World_Weather_Analysis

## Project Overview
PlanMyTrip has requested a program that will provide cities and hotels, along with relevant weather information, that are within a range between the minimum and maximum temperatures specified by customers. Weather, city, and hotel information were all gathered with APIs.

## Resources
### Data Sources:
- Initial Programs - None

- Challenge Programs - WeatherPy_vacation-backup.csv

### Software:
The initial programs were run within the "PythonData" environment, and the Challenge programs were run within the "Python 3" environment. On October 15, 2022, these environments used:

- Initial Programs

    1. Python 3.7.13
    2. Jupyter Notebook 6.4.8
    3. Pandas 1.3.5
    4. Numpy 1.21.5
    5. Matplotlib 3.5.1
    6. CitiPy 0.0.5
    7. Requests 2.27.1
    8. SciPy 1.7.3
    9. Gmaps 0.9.0

- Challenge Programs

    1. Python 3.9.13
    2. Jupyter Notebook 6.4.12
    3. Pandas 1.4.4
    4. Numpy 1.21.5
    5. CitiPy 0.0.5
    6. Requests 2.28.1
    7. SciPy 1.7.3
    8. Gmaps 0.9.0

### Web Resources:
The programs for PlanMyTrip require use of APIs. The following were utilized:

1. OpenWeather - Current weather API (API key required)
2. Google Cloud - Geocoding API (API key required)
3. Google Cloud - Places API (API key required)
4. Google Cloud - Maps JavaScript API (API key required)

## Summary
### Initial Programs
The initial progams are the WeatherPy and the VacationPy programs. The WeatherPy program is run first to supply the city and weather data that will be fed into the VacationPy program which supplies the hotel names and plots them on a global map.

WeatherPy uses a random generator to create a large volume of randomly generated latitudes and longitudes (for this case, 1,500). These coordinate pairs are fed into the CitiPy module to build out a list of unique cities closest to the provided coordinates (a quick length check determines whether or not a sufficient number of cities were generated). These cities are then run into the OpenWeather API to retrieve the proper coordinates as well as the relevant weather data (maximum temperature, humidity, cloudiness, and wind speed). The API used the url specified in the documentation, the relevant inputs (the city name and specifying the units as Imperial), and the API key provided by OpenWeater. The key is imported from a configue.py file which is confidential to the user and is inside the same folder as the program. The processing of results from the API takes place in a "try-except" block to account for occasions where a city does not return a valid result. One more check is done to verify that at least 500 cities still remain by this point. All valid results are then compiled into a DataFrame and exported into a .csv file.

On the side, the resultant DataFrame is used to create a set of scatter plots relating the latitudes of the cities to the corresponding max temperatures, humidity percentage values, cloudiness percentage values, and wind speeds respectively. Next, linear regression was performed on each of the four weather parameters for the Northern Hemisphere and the Southern Hemisphere. There is a fairly strong correlation between the latitude and the max temperature, but hardly any correlation between the latitude and any of the other three weather parameters.

VacationPy imports the .csv generated by WeatherPy into a DataFrame and runs it through Google APIs. The first part of the program pulls the coordinates and the weather data from the DataFrame; the weather data serves as weight values for the heatmap layer which is plotted on the global map. This is done for all four weather columns (max temp, humidity, cloudiness, and wind speed).

The other part of the program requests user input for the minimum and maximum desired temperature; the cities in the DataFrame are filtered to be within the set range (null values are dropped in the process). The filtered results are copied into a hotels DataFrame that will include names of hotels closest to the coordinates tied to the city. The hotel name is retrieved using the Google Places API; the URL supplied in the documentation is combined with a dictionary of parameters (including the API key) set in accordance with the documentation. Google supplies an API key to access the APIs, which is also stored in the personal configure.py file. A "try-except" block is used in a way similar to that in the WeatherPy program. A temperature heatmap using the hotels DataFrame has a marker layer added which contains the locations of the hotels. An info box system is included so that a selected marker will display the hotel name, the city and country location, and the maximum temperature.

### Challenge Programs
At the recommendations of beta testers, PlanMyTrip has requested additional features, specifically the ability to prepare a travel itinerary that selects destinations based on weather patterns.

The first deliverable, the Weather_Database program, works in a very similar way as the WeatherPy program. The program randomly generates coordinates (2,000 this time), lists out unique cities closest to those coordinates, retrieves the location and weather data after inputting the city name into the OpenWeather API, and processes the results into a DataFrame for export to a .csv file. One difference in the output this time is the retrieval of the weather description.